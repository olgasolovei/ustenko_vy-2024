# Сценарії використання системи

# 1. Авторизація в систему
## Сценарій використання 1.1.: Авторизація користувача
1. **Ідентифікатор та назва:** FG-001: Авторизація користувача
2. **Основна та додаткова дійові особи:**
    - **Основна:** Користувач (менеджер).
    - **Додаткова:** Система аутентифікації.
3. **Опис:**  
   Користувач вводить свої облікові дані, щоб отримати доступ до системи моніторингу будівельного майданчика.
4. **Тригер:**  
   Користувач відкриває веб-додаток або мобільний додаток та натискає кнопку "Увійти".
5. **Попередні умови:**
    - Користувач зареєстрований у системі.
    - Система аутентифікації налаштована та доступна.
6. **Нормальний напрямок подій:**
    1. Користувач вводить логін та пароль.
    2. Система перевіряє введені дані у базі користувачів.
    3. Якщо дані правильні, система надає доступ до функціоналу.
7. **Альтернативний напрямок подій:**
    - Якщо користувач натискає "Забули пароль?", система пропонує відновити доступ через електронну пошту.
8. **Винятки:**
    - Система недоступна через технічні проблеми.
    - Неправильні облікові дані — доступ заборонено.
9. **Бізнес правила:**
    - Паролі повинні відповідати політиці безпеки (мінімум 8 символів, один спеціальний символ).
    - Максимум 5 спроб входу, після чого обліковий запис блокується на 15 хвилин.

## Сценарій використання 1.2.: Відновлення облікового запису
1. **Ідентифікатор та назва:** FG-002: Відновлення облікового запису
2. **Основна та додаткова дійові особи:**
    - **Основна:** Користувач (менеджер).
    - **Додаткова:** Система аутентифікації.
3. **Опис:**  
   Користувач відновлює доступ до облікового запису через функціонал "Забули пароль".
4. **Тригер:**  
   Користувач натискає кнопку "Забули пароль?".
5. **Попередні умови:**
    - Користувач має зареєстровану електронну адресу в системі.
6. **Нормальний напрямок подій:**
    1. Користувач вводить зареєстровану електронну адресу.
    2. Система надсилає тимчасовий код або посилання для відновлення.
    3. Користувач вводить новий пароль.
    4. Система оновлює пароль у базі даних.
7. **Альтернативний напрямок подій:**
    - Якщо користувач вводить неправильну адресу, система повідомляє про це.
8. **Винятки:**
    - Сервер електронної пошти недоступний.
    - Користувач не має доступу до своєї електронної адреси.
9. **Бізнес правила:**
    - Тимчасовий код дійсний протягом 15 хвилин.
    - Новий пароль повинен відповідати політиці безпеки системи.

# 2. Моніторинг ризиків та надсилання сповіщень
## Сценарій використання 2.1.: Моніторинг ризиків на майданчику
1. **Ідентифікатор та назва:** FG-003: Моніторинг ризиків на майданчику
2. **Основна та додаткова дійові особи:**
    - **Основна:** Система AI моніторингу.
    - **Додаткова:** Користувач (майданчик-менеджер).
3. **Опис:**  
   Система аналізує дані IoT пристроїв для визначення небезпечних ситуацій та попереджає користувача.
4. **Тригер:**  
   Система отримує нові дані від IoT пристроїв.
5. **Попередні умови:**
    - IoT пристрої підключені до системи.
    - Алгоритми AI налаштовані та активні.
6. **Нормальний напрямок подій:**
    1. IoT пристрої надсилають дані до системи.
    2. AI аналізує отримані дані на наявність ризиків (наприклад, неправильне розташування вантажу).
7. **Альтернативний напрямок подій:**
    - Якщо дані неповні або мають відхилення, система вимагає повторного збору інформації.
8. **Винятки:**
    - IoT пристрої не передають дані через технічний збій.
    - Алгоритм AI не може прийняти рішення через брак даних.
9. **Бізнес правила:**
    - Сповіщення про ризики мають містити інформацію про точну локацію та тип небезпеки.
    - Всі дії мають бути записані у журнал для подальшого аналізу.

## Сценарій використання 2.2: Надання сповіщень про критичні події
1. **Ідентифікатор та назва:** FG-004: Надання сповіщень про критичні події
2. **Основна та додаткова дійові особи:**
    - **Основна:** Система моніторингу ризиків.
    - **Додаткова:** Користувач (майданчик-менеджер).
3. **Опис:**  
   Система надсилає сповіщення про виявлені критичні події, щоб користувач міг вжити заходів.
4. **Тригер:**  
   Система ідентифікує ризик, який перевищує встановлений поріг критичності.
5. **Попередні умови:**
    - Користувач увійшов у систему.
    - Система має налаштовані пороги для критичних ризиків.
6. **Нормальний напрямок подій:**
    1. Система визначає критичний ризик.
    2. Генерує повідомлення, яке містить опис ризику, його локацію та рекомендації.
    3. Надсилає сповіщення через мобільний додаток, електронну пошту або SMS.
    4. Користувач отримує сповіщення та реагує на ситуацію.
7. **Альтернативний напрямок подій:**
    - Якщо користувач недоступний, система робить повторну спробу відправлення сповіщення через інший канал.
8. **Винятки:**
    - Сповіщення не може бути доставлено через технічний збій зв'язку.
9. **Бізнес правила:**
    - Сповіщення про критичні ризики мають надсилатися не пізніше 30 секунд після їх виявлення.
    - Усі ризики повинні записуватися у журнал подій.

# 3. Журнал подій
## Сценарій використання 3.1.: Аналіз журналу подій
1. **Ідентифікатор та назва:** FG-005: Аналіз журналу подій
2. **Основна та додаткова дійові особи:**
    - **Основна:** Користувач (менеджер з безпеки).
    - **Додаткова:** Система обробки даних.
3. **Опис:**  
   Користувач переглядає журнал подій для оцінки дій системи та виявлення повторюваних ризиків.
4. **Тригер:**  
   Користувач ініціює запит для перегляду або експорту журналу подій.
5. **Попередні умови:**
    - Система записує всі події та ризики у журнал.
    - Користувач має права доступу до функції аналізу журналу.
6. **Нормальний напрямок подій:**
    1. Користувач відкриває інтерфейс журналу подій.
    2. Фільтрує дані за критеріями (дата, тип ризику, локація).
    3. Переглядає деталі подій.
7. **Альтернативний напрямок подій:**
    - Користувач зберігає налаштування фільтрів для повторного використання.
8. **Винятки:**
    - Журнал подій перевантажений, і система не може швидко обробити запит.
    - Користувач не має необхідних прав доступу.
9. **Бізнес правила:**
    - Журнал подій повинен зберігатися у системі протягом 12 місяців.
    - Експорт даних має бути доступним у форматах CSV та PDF.
